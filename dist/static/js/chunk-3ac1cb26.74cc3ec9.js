(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3ac1cb26"],{c83a:function(t,e,a){"use strict";a.d(e,"c",(function(){return l})),a.d(e,"a",(function(){return o})),a.d(e,"d",(function(){return n})),a.d(e,"b",(function(){return s}));var i=a("b775");function l(t){return Object(i["a"])({url:"/template",method:"get",params:t})}function o(t){return Object(i["a"])({url:"/template",method:"post",data:t})}function n(t){return Object(i["a"])({url:"/template",method:"put",data:t})}function s(t){return Object(i["a"])({url:"/template",method:"delete",data:t})}},f7b8:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"应用模版",name:"first"}},[a("App")],1),a("el-tab-pane",{attrs:{label:"Deployment模版",name:"second"}},[a("Deployment")],1),a("el-tab-pane",{attrs:{label:"Service模版",name:"third"}},[a("Service")],1),a("el-tab-pane",{attrs:{label:"Ingress模版",name:"fourth"}},[a("Ingress")],1),a("el-tab-pane",{attrs:{label:"Dockefile模版",name:"five"}},[a("Dockerfile")],1)],1)},l=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"请输入内容"},model:{value:t.listQuery.title,callback:function(e){t.$set(t.listQuery,"title",e)},expression:"listQuery.title"}}),a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"}},[t._v(" 搜索 ")]),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"650px"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:t.handleCreate}},[t._v(" 新建 ")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,staticStyle:{width:"100%"},attrs:{data:t.testData,border:"","highlight-current-row":""}},[t._l(t.columns,(function(t){return a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:t.alias,prop:t.name,align:"center"}})})),a("el-table-column",{attrs:{label:"操作",align:"center",width:"230","class-name":"small-padding fixed-width"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.handleUpdate(i)}}},[t._v(" 修改 ")]),"deleted"!=i.status?a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){return t.deleteTemple(i)}}},[t._v(" 删除 ")]):t._e()]}}])})],2),a("br"),a("div",{staticClass:"block"},[a("span",{staticClass:"demonstration"}),a("el-pagination",{attrs:{"current-page":t.listQuery.page,"page-sizes":[1,5,10,100],"page-size":t.listQuery.page_zie,layout:"total, sizes, prev, pager, next, jumper",total:t.kube_total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),a("el-dialog",{attrs:{title:t.textMap[t.dialogStatus],visible:t.dialogFormVisible,width:"45%"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"dataForm",staticStyle:{width:"450px","margin-left":"30px"},attrs:{rules:t.rules,model:t.postFrom,"label-position":"left","label-width":"65px"}},[a("el-form-item",{attrs:{label:"名称:",prop:"name"}},[a("el-input",{model:{value:t.postFrom.name,callback:function(e){t.$set(t.postFrom,"name",e)},expression:"postFrom.name"}})],1),a("el-form-item",{attrs:{label:"描述",prop:"used"}},[a("el-input",{attrs:{type:"input"},model:{value:t.postFrom.used,callback:function(e){t.$set(t.postFrom,"used",e)},expression:"postFrom.used"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v(" 取消 ")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){"create"===t.dialogStatus?t.postTemple():t.updateTemple()}}},[t._v(" 提交 ")])],1)],1),a("el-dialog",{attrs:{visible:t.dialogPvVisible,title:"Reading statistics"},on:{"update:visible":function(e){t.dialogPvVisible=e}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.pvData,border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"key",label:"Channel"}}),a("el-table-column",{attrs:{prop:"pv",label:"Pv"}})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogPvVisible=!1}}},[t._v("Confirm")])],1)],1)],1)},n=[],s=a("b775");function r(t){return Object(s["a"])({url:"/app/template",method:"get",params:t})}function c(t){return Object(s["a"])({url:"/app/template",method:"post",data:t})}function u(t){return Object(s["a"])({url:"/app/template",method:"put",data:t})}function p(t){return Object(s["a"])({url:"/app/template/",method:"delete",data:t})}var m=a("8f94"),d=(a("a7be"),a("e27f"),a("7a7a"),a("acdf"),a("d69f"),a("f9d4"),a("db91"),a("5fb4"),a("b2b9"),a("02f0"),a("d5e0"),a("ced0"),a("47ac"),{components:{codemirror:m["codemirror"]},data:function(){return{myRowData:{someProperty:"Hello from parent!"},kube_total:0,clearValidate:"",hostTotal:0,currentPage:1,pageSize:5,testData:[],columns:[],tableKey:0,list:null,total:0,listLoading:!0,listQuery:{page:1,page_size:10},envList:[],nsList:[],importanceOptions:[1,2,3],showReviewer:!1,postFrom:{name:"",used:""},ClusterList:[],dialogFormVisible:!1,dialogStatus:"",textMap:{update:"Edit",create:"Add"},dialogPvVisible:!1,pvData:[],rules:{name:[{required:!0,message:"名称不能为空",trigger:"blur"}],language:[{required:!0,message:"语言不能为空",trigger:"blur"}],t_type:[{required:!0,message:"类型不能为空",trigger:"blur"}],remark:[{required:!0,message:"类型不能为空",trigger:"blur"}]},languageArray:["yaml"],typeArray:[{value:"6",key:"deployment"}],downloadLoading:!1}},created:function(){this.getTempleLIst()},methods:{handleTitleChanged:function(t){console.log(t),console.log("Received from child:",t)},searchBtn:function(){this.listQuery.page=1,this.getList()},closeDialogfun:function(){this.dialogCicdFormVisible=!1},handleSizeChange:function(t){this.listQuery.page_size=t,this.getTempleLIst()},handleCurrentChange:function(t){this.listQuery.page=t,this.getTempleLIst()},getTempleLIst:function(){var t=this;r(this.listQuery).then((function(e){t.columns=e.columns,t.testData=e.data,t.kube_total=e.total,t.listLoading=!1}))},handleFilter:function(){this.listQuery.page=1,this.getTempleLIst()},postTemple:function(){var t=this;this.$refs.dataForm.validate((function(e){e?c(t.postFrom).then((function(e){t.dialogFormVisible=!1,t.$notify({title:"Success",message:"Created Successfully",type:"success",duration:2e3}),t.getTempleLIst()})):t.$notify.error({title:"Error",message:"请填写完整的表单信息,不能为空!"})}))},deleteTemple:function(t){var e=this,a=this;a.$confirm("此操作将永久删除该条数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){p(t).then((function(t){a.dialogFormVisible=!1,a.$notify({title:"Success",message:"Delete Successfully",type:"success",duration:2e3}),a.getTempleLIst()})).catch((function(t){console.log(t)}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},updateTemple:function(){var t=this,e=this;e.$confirm("此操作将修改该条数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){u(t.postFrom).then((function(t){e.dialogFormVisible=!1,e.$notify({title:"Success",message:"Update Successfully",type:"success",duration:2e3}),e.getTempleLIst()})).catch((function(t){console.log(t)}))})).catch((function(){t.$message({type:"info",message:"已取消修改"})}))},handleUpdate:function(t){var e=this;this.postFrom=Object.assign({},t),this.postFrom.timestamp=new Date,this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},resetTemp:function(){this.postFrom={name:"",used:""}},handleCreate:function(){this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0}}}),g=d,f=a("2877"),h=Object(f["a"])(g,o,n,!1,null,null,null),b=h.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"请输入内容"},model:{value:t.listQuery.title,callback:function(e){t.$set(t.listQuery,"title",e)},expression:"listQuery.title"}}),a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"}},[t._v(" 搜索 ")]),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"650px"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:t.handleCreate}},[t._v(" 新建 ")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,staticStyle:{width:"100%"},attrs:{data:t.testData,border:"","highlight-current-row":""}},[t._l(t.columns,(function(t){return a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:t.alias,prop:t.name,align:"center"}})})),a("el-table-column",{attrs:{label:"操作",align:"center",width:"230","class-name":"small-padding fixed-width"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(e){return t.downloadFile(i)}}},[t._v(" 下载 ")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.handleUpdate(i)}}},[t._v(" 修改 ")]),"deleted"!=i.status?a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){return t.deleteTemple(i)}}},[t._v(" 删除 ")]):t._e()]}}])})],2),a("br"),a("div",{staticClass:"block"},[a("span",{staticClass:"demonstration"}),a("el-pagination",{attrs:{"current-page":t.listQuery.page,"page-sizes":[1,5,10,100],"page-size":t.listQuery.page_zie,layout:"total, sizes, prev, pager, next, jumper",total:t.kube_total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),a("el-dialog",{attrs:{title:t.textMap[t.dialogStatus],visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"dataForm",staticStyle:{width:"500px","margin-left":"30px"},attrs:{rules:t.rules,model:t.postFrom,"label-position":"left","label-width":"80px"}},[a("el-form-item",{attrs:{label:"名称:",prop:"name"}},[a("el-input",{model:{value:t.postFrom.name,callback:function(e){t.$set(t.postFrom,"name",e)},expression:"postFrom.name"}})],1),a("el-form-item",{attrs:{label:"类型:",prop:"t_type"}},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"420px"},attrs:{placeholder:"请选择",disabled:"",clearable:""},model:{value:t.postFrom.t_type,callback:function(e){t.$set(t.postFrom,"t_type",e)},expression:"postFrom.t_type"}},t._l(t.typeArray,(function(t){return a("el-option",{key:t.key,attrs:{label:t.key,value:t.value}})})),1)],1),a("el-form-item",{attrs:{label:"语言",prop:"language"}},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"420px"},attrs:{disabled:"",placeholder:"请选择",clearable:""},model:{value:t.postFrom.language,callback:function(e){t.$set(t.postFrom,"language",e)},expression:"postFrom.language"}},t._l(t.languageArray,(function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),a("el-form-item",{attrs:{label:"内容:",prop:"content"}},[a("codemirror",{ref:"contentEditor",attrs:{options:t.cmOptions},model:{value:t.postFrom.content,callback:function(e){t.$set(t.postFrom,"content",e)},expression:"postFrom.content"}})],1),a("el-form-item",{attrs:{label:"用途",prop:"remark"}},[a("el-input",{attrs:{type:"input"},model:{value:t.postFrom.remark,callback:function(e){t.$set(t.postFrom,"remark",e)},expression:"postFrom.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v(" 取消 ")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){"create"===t.dialogStatus?t.postTemple():t.updateTemple()}}},[t._v(" 提交 ")])],1)],1),a("el-dialog",{attrs:{visible:t.dialogPvVisible,title:"Reading statistics"},on:{"update:visible":function(e){t.dialogPvVisible=e}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.pvData,border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"key",label:"Channel"}}),a("el-table-column",{attrs:{prop:"pv",label:"Pv"}})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogPvVisible=!1}}},[t._v("Confirm")])],1)],1)],1)},v=[],F=(a("99af"),a("b0c0"),a("c83a")),k={components:{codemirror:m["codemirror"]},data:function(){return{myRowData:{someProperty:"Hello from parent!"},kube_total:0,clearValidate:"",hostTotal:0,currentPage:1,pageSize:5,testData:[],columns:[],tableKey:0,list:null,total:0,listLoading:!0,listQuery:{page:1,page_size:10,q_type:"deployment"},envList:[],nsList:[],importanceOptions:[1,2,3],showReviewer:!1,postFrom:{name:"",content:"",t_type:"deployment",language:"yaml",remark:""},ClusterList:[],dialogFormVisible:!1,dialogStatus:"",textMap:{update:"Edit",create:"Add"},dialogPvVisible:!1,pvData:[],rules:{name:[{required:!0,message:"名称不能为空",trigger:"blur"}],language:[{required:!0,message:"语言不能为空",trigger:"blur"}],t_type:[{required:!0,message:"类型不能为空",trigger:"blur"}],remark:[{required:!0,message:"类型不能为空",trigger:"blur"}]},languageArray:["yaml"],typeArray:[{value:"deployment",key:"deployment"}],cmOptions:{mode:"yaml",lineWrapping:!0,lineNumbers:!0,firstLineNumber:1,indentWithTabs:!0,smartIndent:!0,matchBrackets:!0,autofocus:!0,extraKeys:{"Ctrl-Space":"autocomplete"},readOnly:!1,showCursorWhenSelecting:!0},downloadLoading:!1}},created:function(){this.getTempleLIst()},methods:{handleTitleChanged:function(t){console.log(t),console.log("Received from child:",t)},searchBtn:function(){this.listQuery.page=1,this.getList()},closeDialogfun:function(){this.dialogCicdFormVisible=!1},handleSizeChange:function(t){this.listQuery.page_size=t,this.getTempleLIst()},handleCurrentChange:function(t){this.listQuery.page=t,this.getTempleLIst()},getTempleLIst:function(){var t=this;Object(F["c"])(this.listQuery).then((function(e){t.columns=e.columns,t.testData=e.data,t.kube_total=e.total,t.listLoading=!1}))},handleFilter:function(){this.listQuery.page=1,this.getTempleLIst()},postTemple:function(){var t=this;this.$refs.dataForm.validate((function(e){e?Object(F["a"])(t.postFrom).then((function(e){t.dialogFormVisible=!1,t.$notify({title:"Success",message:"Created Successfully",type:"success",duration:2e3}),t.getTempleLIst()})):t.$notify.error({title:"Error",message:"请填写完整的表单信息,不能为空!"})}))},deleteTemple:function(t){var e=this,a=this;a.$confirm("此操作将永久删除该条数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(F["b"])(t).then((function(t){a.dialogFormVisible=!1,a.$notify({title:"Success",message:"Delete Successfully",type:"success",duration:2e3}),a.getTempleLIst()})).catch((function(t){console.log(t)}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},updateTemple:function(){var t=this,e=this;e.$confirm("此操作将修改该条数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(F["d"])(t.postFrom).then((function(t){e.dialogFormVisible=!1,e.$notify({title:"Success",message:"Update Successfully",type:"success",duration:2e3}),e.getTempleLIst()})).catch((function(t){console.log(t)}))})).catch((function(){t.$message({type:"info",message:"已取消修改"})}))},downloadFile:function(t){var e="http://127.0.0.1:8888/api/template/download/?name=".concat(encodeURIComponent(t.name),"&language=").concat(encodeURIComponent(t.language));window.open(e,"_blank")},handleUpdate:function(t){var e=this;this.postFrom=Object.assign({},t),this.postFrom.timestamp=new Date,this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},resetTemp:function(){this.postFrom={name:"",content:"",t_type:"deployment",language:"yaml",remark:""}},handleCreate:function(){this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0}}},w=k,_=Object(f["a"])(w,y,v,!1,null,null,null),C=_.exports,x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"请输入内容"},model:{value:t.listQuery.title,callback:function(e){t.$set(t.listQuery,"title",e)},expression:"listQuery.title"}}),a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"}},[t._v(" 搜索 ")]),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"650px"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:t.handleCreate}},[t._v(" 新建 ")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,staticStyle:{width:"100%"},attrs:{data:t.testData,border:"","highlight-current-row":""}},[t._l(t.columns,(function(t){return a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:t.alias,prop:t.name,align:"center"}})})),a("el-table-column",{attrs:{label:"操作",align:"center",width:"230","class-name":"small-padding fixed-width"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(e){return t.downloadFile(i)}}},[t._v(" 下载 ")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.handleUpdate(i)}}},[t._v(" 修改 ")]),"deleted"!=i.status?a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){return t.deleteTemple(i)}}},[t._v(" 删除 ")]):t._e()]}}])})],2),a("br"),a("div",{staticClass:"block"},[a("span",{staticClass:"demonstration"}),a("el-pagination",{attrs:{"current-page":t.listQuery.page,"page-sizes":[1,5,10,100],"page-size":t.listQuery.page_zie,layout:"total, sizes, prev, pager, next, jumper",total:t.kube_total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),a("el-dialog",{attrs:{title:t.textMap[t.dialogStatus],visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"dataForm",staticStyle:{width:"500px","margin-left":"30px"},attrs:{rules:t.rules,model:t.postFrom,"label-position":"left","label-width":"80px"}},[a("el-form-item",{attrs:{label:"名称:",prop:"name"}},[a("el-input",{model:{value:t.postFrom.name,callback:function(e){t.$set(t.postFrom,"name",e)},expression:"postFrom.name"}})],1),a("el-form-item",{attrs:{label:"类型:",prop:"t_type"}},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"420px"},attrs:{placeholder:"请选择",disabled:"",clearable:""},model:{value:t.postFrom.t_type,callback:function(e){t.$set(t.postFrom,"t_type",e)},expression:"postFrom.t_type"}},t._l(t.typeArray,(function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),a("el-form-item",{attrs:{label:"语言",prop:"language"}},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"420px"},attrs:{disabled:"",placeholder:"请选择",clearable:""},model:{value:t.postFrom.language,callback:function(e){t.$set(t.postFrom,"language",e)},expression:"postFrom.language"}},t._l(t.languageArray,(function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),a("el-form-item",{attrs:{label:"内容:",prop:"content"}},[a("codemirror",{ref:"contentEditor",attrs:{options:t.cmOptions},model:{value:t.postFrom.content,callback:function(e){t.$set(t.postFrom,"content",e)},expression:"postFrom.content"}})],1),a("el-form-item",{attrs:{label:"用途",prop:"remark"}},[a("el-input",{attrs:{type:"input"},model:{value:t.postFrom.remark,callback:function(e){t.$set(t.postFrom,"remark",e)},expression:"postFrom.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v(" 取消 ")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){"create"===t.dialogStatus?t.postTemple():t.updateTemple()}}},[t._v(" 提交 ")])],1)],1),a("el-dialog",{attrs:{visible:t.dialogPvVisible,title:"Reading statistics"},on:{"update:visible":function(e){t.dialogPvVisible=e}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.pvData,border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"key",label:"Channel"}}),a("el-table-column",{attrs:{prop:"pv",label:"Pv"}})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogPvVisible=!1}}},[t._v("Confirm")])],1)],1)],1)},S=[],T={components:{codemirror:m["codemirror"]},data:function(){return{kube_total:0,clearValidate:"",hostTotal:0,currentPage:1,pageSize:5,testData:[],columns:[],tableKey:0,list:null,total:0,listLoading:!0,listQuery:{page:1,page_size:10,q_type:"service"},envList:[],nsList:[],importanceOptions:[1,2,3],showReviewer:!1,postFrom:{name:"",content:"",t_type:"service",language:"yaml",remark:""},ClusterList:[],dialogFormVisible:!1,dialogStatus:"",textMap:{update:"Edit",create:"Add"},dialogPvVisible:!1,pvData:[],rules:{name:[{required:!0,message:"名称不能为空",trigger:"blur"}],language:[{required:!0,message:"语言不能为空",trigger:"blur"}],t_type:[{required:!0,message:"类型不能为空",trigger:"blur"}],remark:[{required:!0,message:"类型不能为空",trigger:"blur"}]},languageArray:["yaml"],typeArray:[{value:"service",key:"service"}],cmOptions:{mode:"yaml",lineWrapping:!0,lineNumbers:!0,firstLineNumber:1,indentWithTabs:!0,smartIndent:!0,matchBrackets:!0,autofocus:!0,extraKeys:{"Ctrl-Space":"autocomplete"},readOnly:!1,showCursorWhenSelecting:!0},downloadLoading:!1}},created:function(){this.getTempleLIst()},methods:{searchBtn:function(){this.listQuery.page=1,this.getList()},closeDialogfun:function(){this.dialogCicdFormVisible=!1},handleSizeChange:function(t){this.listQuery.page_size=t,this.getTempleLIst()},handleCurrentChange:function(t){this.listQuery.page=t,this.getTempleLIst()},getTempleLIst:function(){var t=this;Object(F["c"])(this.listQuery).then((function(e){t.columns=e.columns,t.testData=e.data,t.kube_total=e.total,t.listLoading=!1}))},handleFilter:function(){this.listQuery.page=1,this.getTempleLIst()},postTemple:function(){var t=this;this.$refs.dataForm.validate((function(e){e?Object(F["a"])(t.postFrom).then((function(e){t.dialogFormVisible=!1,t.$notify({title:"Success",message:"Created Successfully",type:"success",duration:2e3}),t.getTempleLIst()})):t.$notify.error({title:"Error",message:"请填写完整的表单信息,不能为空!"})}))},deleteTemple:function(t){var e=this,a=this;a.$confirm("此操作将永久删除该条数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(F["b"])(t).then((function(t){a.dialogFormVisible=!1,a.$notify({title:"Success",message:"Delete Successfully",type:"success",duration:2e3}),a.getTempleLIst()})).catch((function(t){console.log(t)}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},updateTemple:function(){var t=this,e=this;e.$confirm("此操作将修改该条数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(F["d"])(t.postFrom).then((function(t){e.dialogFormVisible=!1,e.$notify({title:"Success",message:"Update Successfully",type:"success",duration:2e3}),e.getTempleLIst()})).catch((function(t){console.log(t)}))})).catch((function(){t.$message({type:"info",message:"已取消修改"})}))},downloadFile:function(t){var e="http://127.0.0.1:8888/api/template/download/?name=".concat(encodeURIComponent(t.name),"&language=").concat(encodeURIComponent(t.language));window.open(e,"_blank")},handleUpdate:function(t){var e=this;this.postFrom=Object.assign({},t),this.postFrom.timestamp=new Date,this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},resetTemp:function(){this.postFrom={name:"",content:"",t_type:"service",language:"yaml",remark:""}},handleCreate:function(){this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0}}},L=T,$=Object(f["a"])(L,x,S,!1,null,null,null),V=$.exports,z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"请输入内容"},model:{value:t.listQuery.title,callback:function(e){t.$set(t.listQuery,"title",e)},expression:"listQuery.title"}}),a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"}},[t._v(" 搜索 ")]),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"650px"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:t.handleCreate}},[t._v(" 新建 ")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,staticStyle:{width:"100%"},attrs:{data:t.testData,border:"","highlight-current-row":""}},[t._l(t.columns,(function(t){return a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:t.alias,prop:t.name,align:"center"}})})),a("el-table-column",{attrs:{label:"操作",align:"center",width:"230","class-name":"small-padding fixed-width"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(e){return t.downloadFile(i)}}},[t._v(" 下载 ")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.handleUpdate(i)}}},[t._v(" 修改 ")]),"deleted"!=i.status?a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){return t.deleteTemple(i)}}},[t._v(" 删除 ")]):t._e()]}}])})],2),a("br"),a("div",{staticClass:"block"},[a("span",{staticClass:"demonstration"}),a("el-pagination",{attrs:{"current-page":t.listQuery.page,"page-sizes":[1,5,10,100],"page-size":t.listQuery.page_zie,layout:"total, sizes, prev, pager, next, jumper",total:t.kube_total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),a("el-dialog",{attrs:{title:t.textMap[t.dialogStatus],visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"dataForm",staticStyle:{width:"500px","margin-left":"30px"},attrs:{rules:t.rules,model:t.postFrom,"label-position":"left","label-width":"80px"}},[a("el-form-item",{attrs:{label:"名称:",prop:"name"}},[a("el-input",{model:{value:t.postFrom.name,callback:function(e){t.$set(t.postFrom,"name",e)},expression:"postFrom.name"}})],1),a("el-form-item",{attrs:{label:"类型:",prop:"t_type"}},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"420px"},attrs:{placeholder:"请选择",disabled:"",clearable:""},model:{value:t.postFrom.t_type,callback:function(e){t.$set(t.postFrom,"t_type",e)},expression:"postFrom.t_type"}},t._l(t.typeArray,(function(t){return a("el-option",{key:t.key,attrs:{label:t.key,value:t.value}})})),1)],1),a("el-form-item",{attrs:{label:"语言",prop:"language"}},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"420px"},attrs:{disabled:"",placeholder:"请选择",clearable:""},model:{value:t.postFrom.language,callback:function(e){t.$set(t.postFrom,"language",e)},expression:"postFrom.language"}},t._l(t.languageArray,(function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),a("el-form-item",{attrs:{label:"内容:",prop:"content"}},[a("codemirror",{ref:"contentEditor",attrs:{options:t.cmOptions},model:{value:t.postFrom.content,callback:function(e){t.$set(t.postFrom,"content",e)},expression:"postFrom.content"}})],1),a("el-form-item",{attrs:{label:"用途",prop:"remark"}},[a("el-input",{attrs:{type:"input"},model:{value:t.postFrom.remark,callback:function(e){t.$set(t.postFrom,"remark",e)},expression:"postFrom.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v(" 取消 ")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){"create"===t.dialogStatus?t.postTemple():t.updateTemple()}}},[t._v(" 提交 ")])],1)],1),a("el-dialog",{attrs:{visible:t.dialogPvVisible,title:"Reading statistics"},on:{"update:visible":function(e){t.dialogPvVisible=e}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.pvData,border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"key",label:"Channel"}}),a("el-table-column",{attrs:{prop:"pv",label:"Pv"}})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogPvVisible=!1}}},[t._v("Confirm")])],1)],1)],1)},I=[],Q={components:{codemirror:m["codemirror"]},data:function(){return{myRowData:{someProperty:"Hello from parent!"},kube_total:0,clearValidate:"",hostTotal:0,currentPage:1,pageSize:5,testData:[],columns:[],tableKey:0,list:null,total:0,listLoading:!0,listQuery:{page:1,page_size:10,q_type:"dockerfile"},envList:[],nsList:[],importanceOptions:[1,2,3],showReviewer:!1,postFrom:{name:"",content:"",t_type:"dockerfile",language:"dockerfile",remark:""},ClusterList:[],dialogFormVisible:!1,dialogStatus:"",textMap:{update:"Edit",create:"Add"},dialogPvVisible:!1,pvData:[],rules:{name:[{required:!0,message:"名称不能为空",trigger:"blur"}],language:[{required:!0,message:"语言不能为空",trigger:"blur"}],t_type:[{required:!0,message:"类型不能为空",trigger:"blur"}],remark:[{required:!0,message:"类型不能为空",trigger:"blur"}]},languageArray:["dockerfile"],typeArray:[{value:"dockerfile",key:"dockerfile"}],cmOptions:{mode:"dockerfile",lineWrapping:!0,lineNumbers:!0,firstLineNumber:1,indentWithTabs:!0,smartIndent:!0,matchBrackets:!0,autofocus:!0,extraKeys:{"Ctrl-Space":"autocomplete"},readOnly:!1,showCursorWhenSelecting:!0},downloadLoading:!1}},created:function(){this.getTempleLIst()},methods:{handleTitleChanged:function(t){console.log(t),console.log("Received from child:",t)},searchBtn:function(){this.listQuery.page=1,this.getList()},closeDialogfun:function(){this.dialogCicdFormVisible=!1},handleSizeChange:function(t){this.listQuery.page_size=t,this.getTempleLIst()},handleCurrentChange:function(t){this.listQuery.page=t,this.getTempleLIst()},getTempleLIst:function(){var t=this;Object(F["c"])(this.listQuery).then((function(e){t.columns=e.columns,t.testData=e.data,t.kube_total=e.total,t.listLoading=!1}))},handleFilter:function(){this.listQuery.page=1,this.getTempleLIst()},postTemple:function(){var t=this;this.$refs.dataForm.validate((function(e){e?Object(F["a"])(t.postFrom).then((function(e){t.dialogFormVisible=!1,t.$notify({title:"Success",message:"Created Successfully",type:"success",duration:2e3}),t.getTempleLIst()})):t.$notify.error({title:"Error",message:"请填写完整的表单信息,不能为空!"})}))},deleteTemple:function(t){var e=this,a=this;a.$confirm("此操作将永久删除该条数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(F["b"])(t).then((function(t){a.dialogFormVisible=!1,a.$notify({title:"Success",message:"Delete Successfully",type:"success",duration:2e3}),a.getTempleLIst()})).catch((function(t){console.log(t)}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},updateTemple:function(){var t=this,e=this;e.$confirm("此操作将修改该条数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(F["d"])(t.postFrom).then((function(t){e.dialogFormVisible=!1,e.$notify({title:"Success",message:"Update Successfully",type:"success",duration:2e3}),e.getTempleLIst()})).catch((function(t){console.log(t)}))})).catch((function(){t.$message({type:"info",message:"已取消修改"})}))},downloadFile:function(t){var e="http://127.0.0.1:8888/api/template/download/?name=".concat(encodeURIComponent(t.name),"&language=").concat(encodeURIComponent(t.language));window.open(e,"_blank")},handleUpdate:function(t){var e=this;this.postFrom=Object.assign({},t),this.postFrom.timestamp=new Date,this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},resetTemp:function(){this.postFrom={name:"",content:"",t_type:"dockerfile",language:"dockerfile",remark:""}},handleCreate:function(){this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0}}},O=Q,D=Object(f["a"])(O,z,I,!1,null,null,null),j=D.exports,P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"请输入内容"},model:{value:t.listQuery.title,callback:function(e){t.$set(t.listQuery,"title",e)},expression:"listQuery.title"}}),a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"}},[t._v(" 搜索 ")]),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"650px"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:t.handleCreate}},[t._v(" 新建 ")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,staticStyle:{width:"100%"},attrs:{data:t.testData,border:"","highlight-current-row":""}},[t._l(t.columns,(function(t){return a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:t.alias,prop:t.name,align:"center"}})})),a("el-table-column",{attrs:{label:"操作",align:"center",width:"230","class-name":"small-padding fixed-width"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(e){return t.downloadFile(i)}}},[t._v(" 下载 ")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.handleUpdate(i)}}},[t._v(" 修改 ")]),"deleted"!=i.status?a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){return t.deleteTemple(i)}}},[t._v(" 删除 ")]):t._e()]}}])})],2),a("br"),a("div",{staticClass:"block"},[a("span",{staticClass:"demonstration"}),a("el-pagination",{attrs:{"current-page":t.listQuery.page,"page-sizes":[1,5,10,100],"page-size":t.listQuery.page_zie,layout:"total, sizes, prev, pager, next, jumper",total:t.kube_total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),a("el-dialog",{attrs:{title:t.textMap[t.dialogStatus],visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"dataForm",staticStyle:{width:"500px","margin-left":"30px"},attrs:{rules:t.rules,model:t.postFrom,"label-position":"left","label-width":"80px"}},[a("el-form-item",{attrs:{label:"名称:",prop:"name"}},[a("el-input",{model:{value:t.postFrom.name,callback:function(e){t.$set(t.postFrom,"name",e)},expression:"postFrom.name"}})],1),a("el-form-item",{attrs:{label:"类型:",prop:"t_type"}},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"420px"},attrs:{placeholder:"请选择",disabled:"",clearable:""},model:{value:t.postFrom.t_type,callback:function(e){t.$set(t.postFrom,"t_type",e)},expression:"postFrom.t_type"}},t._l(t.typeArray,(function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),a("el-form-item",{attrs:{label:"语言",prop:"language"}},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"420px"},attrs:{disabled:"",placeholder:"请选择",clearable:""},model:{value:t.postFrom.language,callback:function(e){t.$set(t.postFrom,"language",e)},expression:"postFrom.language"}},t._l(t.languageArray,(function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),a("el-form-item",{attrs:{label:"内容:",prop:"content"}},[a("codemirror",{ref:"contentEditor",attrs:{options:t.cmOptions},model:{value:t.postFrom.content,callback:function(e){t.$set(t.postFrom,"content",e)},expression:"postFrom.content"}})],1),a("el-form-item",{attrs:{label:"用途",prop:"remark"}},[a("el-input",{attrs:{type:"input"},model:{value:t.postFrom.remark,callback:function(e){t.$set(t.postFrom,"remark",e)},expression:"postFrom.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v(" 取消 ")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){"create"===t.dialogStatus?t.postTemple():t.updateTemple()}}},[t._v(" 提交 ")])],1)],1),a("el-dialog",{attrs:{visible:t.dialogPvVisible,title:"Reading statistics"},on:{"update:visible":function(e){t.dialogPvVisible=e}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.pvData,border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"key",label:"Channel"}}),a("el-table-column",{attrs:{prop:"pv",label:"Pv"}})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogPvVisible=!1}}},[t._v("Confirm")])],1)],1)],1)},B=[],A={components:{codemirror:m["codemirror"]},data:function(){return{kube_total:0,clearValidate:"",hostTotal:0,currentPage:1,pageSize:5,testData:[],columns:[],tableKey:0,list:null,total:0,listLoading:!0,listQuery:{page:1,page_size:10,q_type:"ingress"},envList:[],nsList:[],importanceOptions:[1,2,3],showReviewer:!1,postFrom:{name:"",content:"",t_type:"ingress",language:"yaml",remark:""},ClusterList:[],dialogFormVisible:!1,dialogStatus:"",textMap:{update:"Edit",create:"Add"},dialogPvVisible:!1,pvData:[],rules:{name:[{required:!0,message:"名称不能为空",trigger:"blur"}],language:[{required:!0,message:"语言不能为空",trigger:"blur"}],t_type:[{required:!0,message:"类型不能为空",trigger:"blur"}],remark:[{required:!0,message:"类型不能为空",trigger:"blur"}]},languageArray:["yaml"],typeArray:[{value:"ingress",key:"ingress"}],cmOptions:{mode:"yaml",lineWrapping:!0,lineNumbers:!0,firstLineNumber:1,indentWithTabs:!0,smartIndent:!0,matchBrackets:!0,autofocus:!0,extraKeys:{"Ctrl-Space":"autocomplete"},readOnly:!1,showCursorWhenSelecting:!0},downloadLoading:!1}},created:function(){this.getTempleLIst()},methods:{searchBtn:function(){this.listQuery.page=1,this.getList()},closeDialogfun:function(){this.dialogCicdFormVisible=!1},handleSizeChange:function(t){this.listQuery.page_size=t,this.getTempleLIst()},handleCurrentChange:function(t){this.listQuery.page=t,this.getTempleLIst()},getTempleLIst:function(){var t=this;Object(F["c"])(this.listQuery).then((function(e){t.columns=e.columns,t.testData=e.data,t.kube_total=e.total,t.listLoading=!1}))},handleFilter:function(){this.listQuery.page=1,this.getTempleLIst()},postTemple:function(){var t=this;this.$refs.dataForm.validate((function(e){e?Object(F["a"])(t.postFrom).then((function(e){t.dialogFormVisible=!1,t.$notify({title:"Success",message:"Created Successfully",type:"success",duration:2e3}),t.getTempleLIst()})):t.$notify.error({title:"Error",message:"请填写完整的表单信息,不能为空!"})}))},deleteTemple:function(t){var e=this,a=this;a.$confirm("此操作将永久删除该条数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(F["b"])(t).then((function(t){a.dialogFormVisible=!1,a.$notify({title:"Success",message:"Delete Successfully",type:"success",duration:2e3}),a.getTempleLIst()})).catch((function(t){console.log(t)}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},updateTemple:function(){var t=this,e=this;e.$confirm("此操作将修改该条数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(F["d"])(t.postFrom).then((function(t){e.dialogFormVisible=!1,e.$notify({title:"Success",message:"Update Successfully",type:"success",duration:2e3}),e.getTempleLIst()})).catch((function(t){console.log(t)}))})).catch((function(){t.$message({type:"info",message:"已取消修改"})}))},downloadFile:function(t){var e="http://127.0.0.1:8888/api/template/download/?name=".concat(encodeURIComponent(t.name),"&language=").concat(encodeURIComponent(t.language));window.open(e,"_blank")},handleUpdate:function(t){var e=this;this.postFrom=Object.assign({},t),this.postFrom.timestamp=new Date,this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},resetTemp:function(){this.postFrom={name:"",content:"",t_type:"ingress",language:"yaml",remark:""}},handleCreate:function(){this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0}}},q=A,R=Object(f["a"])(q,P,B,!1,null,null,null),U=R.exports,E={components:{App:b,Deployment:C,Service:V,Ingress:U,Dockerfile:j},data:function(){return{activeName:"first"}},methods:{handleClick:function(t,e){console.log(t,e)}}},N=E,K=Object(f["a"])(N,i,l,!1,null,null,null);e["default"]=K.exports}}]);